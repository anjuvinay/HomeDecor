<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home Decor</title>
    
    <link href="assetsb/css/main.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/styles.css" rel="stylesheet" type="text/css" />
</head>

<body>

    <%- include('userHeader') %>
    <main>
        
        <section class="content-main mt-80 mb-80">
            <div class="card mx-auto card-login">
                <div class="card-body">
                    <h4 class="card-title mb-4">Enter Otp</h4>
                    <div class="mb-3">
                        <!-- Other input elements... -->
                       <span class="text-center">Resend Otp in <span id="otp-timer"></span> seconds</span> 
                    </div>
                    
                    <form action="/passwordOtp" method="post">
                        <%if(locals.message){%>
                            <span class="text-danger"><%=message%></span>
                        <%}%>
                        <div class="mb-3">
                            <input class="form-control" placeholder="otp" type="text" name="otp" required>
                        </div> <!-- form-group// -->
                        <div class="mb-3">
                            <input class="form-control" type="hidden" value="<%=email%>" name="email" required>
                        </div> <!-- form-group// -->
                        <div class="mb-3">
                            <input class="form-control" type="hidden" value="<%=randomotp%>" name="randomotp" required>
                        </div> <!-- form-group// -->
                       
                        <div class="mb-4" id="verifyOtp">
                            <button type="submit" class="btn btn-primary w-100">Verify Otp</button>
                        </div> <!-- form-group// -->
                    </form>
                    <div class="mb-4" id="resendButton" style="display: none;">
                       <a href="/generatePasswordOtp"> <button type="button" class="btn btn-primary w-100">Resend Otp</button></a>
                    </div> 
                    <!-- Add the following script at the end of your HTML file, just before the closing </body> tag -->
<script>
    // Function to start the OTP timer
    function startOTPTimer(duration) {
        let timer = duration;
        const timerElement = document.getElementById('otp-timer');

        const timerInterval = setInterval(function () {
            const minutes = Math.floor(timer / 60);
            const seconds = timer % 60;

            timerElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

            if (--timer < 0) {
                clearInterval(timerInterval);
                document.getElementById('resendButton').style.display='block'
                document.getElementById('verifyOtp').style.display='none'
            }
        }, 1000);
    }

    // Execute the function when the window loads
    window.onload = function () {
        // Set the OTP timer duration in seconds (60 seconds in this case)
        const otpTimerDuration = 60;
        startOTPTimer(otpTimerDuration);
    };
</script>
                </div>
            </div>
        </section>
        
    </main>
    <script src="assetsb/js/vendors/jquery-3.6.0.min.js"></script>
    <script src="assetsb/js/vendors/bootstrap.bundle.min.js"></script>
    <script src="assetsb/js/vendors/jquery.fullscreen.min.js"></script>
    <!-- Main Script -->
    <script src="assetsb/js/main.js" type="text/javascript"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-account-login.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:33 GMT -->
</html>